<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Device Programmer Emulator: Sivava PCB4.5 Programmer Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Device Programmer Emulator
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Sivava PCB4.5 Programmer Documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
 <head>
 </head>
 <body>
  <p><b>Applies To:</b></p>
  <ul>
   <li><a href="http://www.sivava.com/" target="_blank">Sivava PCB4.5</a></li>
   <li><a href="http://www.sivava.com/" target="_blank">Sivava PCB5.0</a></li>
   <li><a href="http://www.py2bbs.qsl.br/willem_pcb45.php" target="_blank">Willem Mod to PCB4.5 by PY2BBS</a></li>
  </ul>
  <p><b>Description:</b></p>
  <p>
    The Sivava PCB4.5 / PCB5.0 progammer (and variants) is a Parallel Port based memory device programmer.<br>
    It addresses to 24 bits (for parallel target chip).<br>
    This programmer is a fast version of Willem Standard, in a commercial version.
  </p>
  <p>&nbsp;</p>
  <p><b>Ports Map:</b></p>
   <table border="1" cellspacing="0" cellpadding="4">
    <th colspan="4">Data Port (offset: 0x00)</th>
    <tr><th>Bit</th><th colspan="2">Parallel Chip</th><th>Serial Chip</th></tr>
    <tr><td>D7</td><td>Data Bus Q7</td><td>N/A</td><td>N/A</td></tr>
    <tr><td>D6</td><td>Data Bus Q6</td><td>N/A</td><td>N/A</td></tr>
    <tr><td>D5</td><td>Data Bus Q5</td><td>ADDR_BUS_DATA_D2</td><td>N/A</td></tr>
    <tr><td>D4</td><td>Data Bus Q4</td><td>ADDR_BUS_DATA_D1</td><td>N/A</td></tr>
    <tr><td>D3</td><td>Data Bus Q3</td><td>N/A</td><td>N/A</td></tr>
    <tr><td>D2</td><td>Data Bus Q2</td><td><span style="text-decoration:overline">DATA_BUS_CLK</span></td><td>N/A</td></tr>
    <tr><td>D1</td><td>Data Bus Q1</td><td>ADDR_BUS_DATA_D0</td><td>SERIAL_CLK</td></tr>
    <tr><td>D0</td><td>Data Bus Q0</td><td>ADDR_BUS_CLK</td><td>SERIAL_DIN*</td></tr>
  </table>
  <p>* Inverted for 93Cxx e 25Cxx.</p>
  <p>&nbsp;</p>
  <table border="1" cellspacing="0" cellpadding="4">
    <th colspan="3">Status Port (offset: 0x01)</th>
    <tr><th>Bit</th><th>Parallel Chip</th><th>Serial Chip</th></tr>
    <tr><td>S7</td><td>HARDWARE_TEST</td><td>SERIAL_DOUT*</td></tr>
    <tr><td>S6</td><td><span style="text-decoration:overline">DATA_BUS_SERIAL_INPUT_D2</span></td><td>N/A</td></tr>
    <tr><td>S5</td><td><span style="text-decoration:overline">DATA_BUS_SERIAL_INPUT_D1</span></td><td>N/A</td></tr>
    <tr><td>S4</td><td><span style="text-decoration:overline">DATA_BUS_SERIAL_INPUT_D0</span></td><td>N/A</td></tr>
    <tr><td>S3</td><td>N/A</td><td>N/A</td></tr>
    <tr><td>S2</td><td>N/A</td><td>N/A</td></tr>
    <tr><td>S1</td><td>N/A</td><td>N/A</td></tr>
    <tr><td>S0</td><td>N/A</td><td>N/A</td></tr>
  </table>
  <p>* SERIAL_DIN Bit (DataPort, D0 pin) must be in High(1).</p>
  <p>&nbsp;</p>
  <table border="1" cellspacing="0" cellpadding="4">
    <th colspan="3">Control Port (offset: 0x02)</th>
    <tr><th>Bit</th><th>Parallel Chip</th><th>Serial Chip</th></tr>
    <tr><td>C7</td><td>N/A</td><td>N/A</td></tr>
    <tr><td>C6</td><td>N/A</td><td>N/A</td></tr>
    <tr><td>C5</td><td>N/A</td><td>N/A</td></tr>
    <tr><td>C4</td><td>N/A</td><td>N/A</td></tr>
    <tr><td>C3</td><td>WE_CONTROL</td><td><span style="text-decoration:overline">SERIAL_CS</span>*</td></tr>
    <tr><td>C2</td><td>VDD_CONTROL</td><td>N/A</td></tr>
    <tr><td>C1</td><td><span style="text-decoration:overline">OE_CONTROL</span></td><td>N/A</td></tr>
    <tr><td>C0</td><td><span style="text-decoration:overline">VPP_CONTROL</span></td><td>N/A</td></tr>
  </table>
  <p>* Can be inverted if the target chip have direct logic (active in high) CS pin(CS).</p>
  <p>&nbsp;</p>
  <p><b>Bits Map:</b></p>
  <table border="1" cellspacing="0" cellpadding="4">
    <th colspan="25">Address Bus Bits Map</th>
    <tr><th>Pass</th><th>A23</th><th>A22</th><th>A21</th><th>A20</th><th>A19</th><th>A18</th><th>A17</th><th>A16</th><th>A15</th><th>A14</th><th>A13</th><th>A12</th><th>A11</th><th>A10</th><th>A9</th><th>A8</th><th>A7</th><th>A6</th><th>A5</th><th>A4</th><th>A3</th><th>A2</th><th>A1</th><th>A0</th></tr>
    <tr><th>1</th><td>D2</td>    <td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>D1</td>    <td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>D0</td>    <td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
    <tr><th>2</th><td>&nbsp;</td><td>D2</td>    <td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>D1</td>    <td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>D0</td>    <td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
    <tr><th>3</th><td>&nbsp;</td><td>&nbsp;</td><td>D2</td>    <td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>D1</td>    <td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>D0</td>    <td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
    <tr><th>4</th><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>D2</td>    <td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>D1</td>    <td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>D0</td>    <td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
    <tr><th>5</th><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>D2</td>    <td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>D1</td>    <td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>D0</td>    <td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
    <tr><th>6</th><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>D2</td>    <td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>D1</td>    <td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>D0</td>    <td>&nbsp;</td><td>&nbsp;</td></tr>
    <tr><th>7</th><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>D2</td>    <td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>D1</td>    <td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>D0</td>    <td>&nbsp;</td></tr>
    <tr><th>8</th><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>D2</td>    <td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>D1</td>    <td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>D0</td>    </tr>
  </table>
  <p>&nbsp;</p>
  <table border="1" cellspacing="0" cellpadding="4">
    <th colspan="9">Data Bus Bits Map (for Read)</th>
    <tr><th>Pass</th><th>Q7</th><th>Q6</th><th>Q5</th><th>Q4</th><th>Q3</th><th>Q2</th><th>Q1</th><th>Q0</th></tr>
    <tr><th>1</th><td>D2</td>    <td>D1</td>    <td>D0</td>    <td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
    <tr><th>2</th><td>&nbsp;</td><td>D2</td>    <td>D1</td>    <td>D0</td>    <td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
    <tr><th>3</th><td>&nbsp;</td><td>&nbsp;</td><td>D2</td>    <td>D1</td>    <td>D0</td>    <td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
    <tr><th>4</th><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>D2</td>    <td>D1</td>    <td>D0</td>    <td>&nbsp;</td><td>&nbsp;</td></tr>
    <tr><th>5</th><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>D2</td>    <td>D1</td>    <td>D0</td>    <td>&nbsp;</td></tr>
    <tr><th>6</th><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>D2</td>    <td>D1</td>    <td>D0</td>    </tr>
  </table>
  <p>&nbsp;</p>
  <p><b>Steps for programmer functions:</b></p>
  <ul>
   <li><b>Startup:</b></li>
    <ul>
     <li>Write 0x01 to Control Port (OE=On, WE=Off, VPP=Off, VDD=Off);</li>
     <li>Write 0x04 to Data Port (ADDR_BUS_DATA_D0=Off, ADDR_BUS_DATA_D1=Off, ADDR_BUS_DATA_D2=Off, ADDR_BUS_CLK=Off, <span style="text-decoration:overline">DATA_BUS_CLK</span>=Off);</li>
     <li>Write 0x000000 to Address Bus</li>
    </ul>
   <br>
   <li><b>Hardware Test:</b></li>
    <ul>
     <li>Wait 10 ms;</li>
     <li>Set VDD to On (C2=1);</li>
     <li>Wait 100 ms;</li>
     <li>Set OE to On (C1=0);</li>
     <li>Set ADDR_BUS_CLK to On (D0=1);</li>
     <li>Wait 10 ms;</li>
     <li>Read HARDWARE_TEST bit (S7) to bit_before variable;</li>
     <li>Set ADDR_BUS_CLK to Off(D0=0);</li>
     <li>Wait 10 ms;</li>
     <li>Read HARDWARE_TEST bit (S7) to bit_after variable;</li>
     <li>Set VDD to Off (C2=0);</li>
     <li>If (bit_after == 0) or (bit_before == 1), then "Hardware Not Present";</li>
     <li>Else, "Hardware Present";</li>
    </ul>
   <br>
   <li><b>VDD On:</b></li> 
    <ul>
     <li>Set C2 (in Control Port) to 1 (C2=0 to VDD Off);</li>
    </ul>
   <br>
   <li><b>VPP On:</b></li>
    <ul>
     <li>Set C0 (Control Port) to 0 (C0=1 to VPP Off);</li>
    </ul>
   <br>
   <li><b>WE On:</b></li>
    <ul>
     <li>Set C3 (Control Port) to 1 (C3=0 to WE Off);</li>
    </ul>
   <br>
   <li><b>OE On:</b></li>
    <ul>
     <li>Set C1 (Control Port) to 0 (C1=1 to OE Off);</li>
    </ul>
   <br>
   <li><b>CE On:</b></li>
    <ul>
     <li>The CE signal always On;</li>
    </ul>
   <br>
   <li><b>Address Bus Write:</b></li>
    <ul>
     <li>Set OE to On (C1=0);</li>
     <li>Set ADDR_BUS_CLK to On (D0=1);</li>
     <li>Repeat for all address bits (in groups of 3), starting at MSB (24 bits max):</li>
      <ul>
       <li>Write bit to ADDR_BUS_DATA_D0 (D1=address bit X);</li>
       <li>Write bit to ADDR_BUS_DATA_D1 (D4=address bit Y);</li>
       <li>Write bit to ADDR_BUS_DATA_D2 (D5=address bit Z);</li>
       <li>Set ADDR_BUS_CLK to Off (D0=0): clock low;</li>
       <li>Set ADDR_BUS_CLK to On (D0=1): clock high;</li>
      </ul> 
     <li>Set ADDR_BUS_DATA_D0 to Off (D1=0);</li>
     <li>Set ADDR_BUS_DATA_D1 to Off (D4=0);</li>
     <li>Set ADDR_BUS_DATA_D2 to Off (D5=0);</li>
     <li>Set ADDR_BUS_CLK to Off (D0=0): clock low;</li>
    </ul>
   <br>
   <li><b>Data Bus Write:</b></li>
    <ul>
     <li>Set OE to Off (C1=1);</li>
     <li>Write the data byte to Data Port;</li>
    </ul>
   <br>
   <li><b>Data Bus Read:</b></li>
    <ul>
     <li>Set OE to On (C1=0);</li>
     <li>Set <span style="text-decoration:overline">DATA_BUS_CLK</span> to Off (D2=1): SR serial clock low;</li>
     <li>Set ADDR_BUS_DATA_D0 to On (D1=1): SR parallel load mode;</li>
     <li>Set ADDR_BUS_DATA_D1 to On (D4=1): SR parallel load mode;</li>
     <li>Set ADDR_BUS_DATA_D2 to On (D5=1): SR parallel load mode;</li>
     <li>Set <span style="text-decoration:overline">DATA_BUS_CLK</span> to On (D2=0): SR parallel clock;</li>
     <li>Set ADDR_BUS_DATA_D0 to Off (D1=0): SR serial mode;</li>
     <li>Set ADDR_BUS_DATA_D1 to Off (D4=0): SR serial mode;</li>
     <li>Set ADDR_BUS_DATA_D2 to Off (D5=0): SR serial mode;</li>
     <li>Set <span style="text-decoration:overline">DATA_BUS_CLK</span> to Off (D2=1): SR serial clock low;</li>
     <li>Repeat for all data bits (in groups of 3), starting at MSB (8 bits):</li>
      <ul>
       <li>Read <span style="text-decoration:overline">DATA_BUS_SERIAL_INPUT_D2</span> bit (data bit X=<span style="text-decoration:overline">S6</span>);</li>
       <li>Read <span style="text-decoration:overline">DATA_BUS_SERIAL_INPUT_D1</span> bit (data bit Y=<span style="text-decoration:overline">S5</span>);</li>
       <li>Read <span style="text-decoration:overline">DATA_BUS_SERIAL_INPUT_D0</span> bit (data bit Z=<span style="text-decoration:overline">S4</span>);</li>
       <li>Set <span style="text-decoration:overline">DATA_BUS_CLK</span> to On (D2=0): SR serial clock high;</li>
       <li>Set <span style="text-decoration:overline">DATA_BUS_CLK</span> to Off (D2=1): SR serial clock low;</li>
      </ul>
    </ul>
  </ul>
 </body>
</html> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
